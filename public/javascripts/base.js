function jyAjax(a,b,c,d,e,f,g,h,i){var j=layer.load(2),k=!0;void 0!==f&&""!==f&&null!==f&&(k=f);var l={url:a,type:e||"POST",data:b,async:k,dataType:"json",error:function(a,b,c){layer.close(j),d?d(a,b,c):""!=a.responseText?jyDialog({type:"error"}).alert("error:"+a.responseText):jyDialog({type:"error"}).alert("error")},success:function(a){a&&("ok"==a.status?(c(a),g&&g.removeAttr("disabled")):"failed"==a.status?(d&&d(a),g&&g.removeAttr("disabled")):(c(a),g&&g.removeAttr("disabled"))),layer.close(j)}};i&&i.timeout&&(l.timeout=i.timeout),$.ajax(l)}function banBackSpace(a){var b=a||window.event,c=b.target||b.srcElement,d=c.type||c.getAttribute("type"),e=c.getAttribute("readonly"),f=c.getAttribute("enabled");e=null==e?!1:e,f=null==f?!0:f;var g=8!=b.keyCode||"password"!=d&&"text"!=d&&"textarea"!=d||1!=e&&1==f?!1:!0,h=8==b.keyCode&&"password"!=d&&"text"!=d&&"textarea"!=d?!0:!1;return h?!1:g?!1:void 0}function NumKey(a,b,c){this.structure=a,this.name=b,this.inputObj=c,this.container=$("body"),this.height=0}Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};getJsSdkObj;var c={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(a)&&(a=a.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+c[this.getDay()+""]));for(var d in b)new RegExp("("+d+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[d]:("00"+b[d]).substr((""+b[d]).length)));return a},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.subByteStr=function(a){var b=this,c=jyTools.byteLength(b),d="",e=0;if(a>=c)return b;for(var f=0;f<b.length;f++){var g=b.substr(f,1),h=jyTools.byteLength(g);if(!(a>=e+h))return d;d+=g,e+=h}},String.prototype.formatMoney=function(a,b,c,d){return jyTools.formatMoney(this,a,b,c,d)},String.prototype.jyReplaceAll=function(s1,s2){var r,re;return eval("re = /"+s1+"/g;"),r=this.replace(re,s2)};var tools={existChinese:function(a){for(var b=0;b<a.length;b++)if(a.charAt(b)>="一"&&a.charAt(b)<="龥")return!0;return!1},byteLength:function(a,b){if(endStr="xxx",b){endStr="";for(var c=0;b>c;c++)endStr+="x"}return a.replace(/[\u4E00-\u9FA5]/g,endStr).length},openWinByUrl:function(a,b,c,d,e){var f=b||"操作",g=c||window.screen.availWidth-10,h=d||window.screen.availHeight-30,i="";e||(i="scroll=no; ");var j,k="status=no;"+i+"resizable=no;dialogWidth="+g+"px;dialogHeight="+h+"px";return j=window.showModalDialog?window.showModalDialog(a,window,k):window.open(a,f,"width="+g+",height="+h+", fullscreen=1,top=0, left=0,toolbar=no, menubar=no, scrollbars=no, resizable=no, location=n o, status=no")},getParentNodeByTagName:function(a,b){return a?a.tagName==b.toUpperCase()?a:arguments.callee(a.parentNode,b):a},getParentNodeByAttr:function(a,b,c){if(a){var d=$(a);if(!d.attr(b))return arguments.callee(a.parentNode,b,c);if(d.attr(b)==c)return a}return a},formatMoney:function(a,b,c,d,e){b=isNaN(b=Math.abs(b))?2:b,c=void 0!==c?c:"",d=d||",",e=e||".";var f=0>a?"-":"",g=parseInt(a=Math.abs(+a||0).toFixed(b),10)+"",h=(h=g.length)>3?h%3:0;return c+f+(h?g.substr(0,h)+d:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d)+(b?e+Math.abs(a-g).toFixed(b).slice(2):"")},parseJson2String:function(a){var b="",c=function(a){for(var b="[",c=0;c<a.length;c++)b+=d(a[c]),c!=a.length-1&&(b+=",");return b+="]"},d=function(a){var b,d="{",e=!1;for(var f in a)e=!0,d+="'"+f+"':",b=a[f],d+=b instanceof Array?c(b):"'"+b+"'",d+=",";return e&&(d=d.substring(0,d.length-1)),d+="}"};return b=a instanceof Array?c(a):d(a)},string2JsonObj:function(text){try{return eval("("+text+")")}catch(e){return{}}},obj2JsonString:function(a){var b,c="{",d=!1;for(var e in a)d=!0,b=a[e],void 0==b&&(b=""),"function"!=typeof b&&"object"!=typeof b&&(c+="'"+e+"':",c+=b instanceof Array?jsonArray2String(b):"'"+b+"'",c+=",");return d&&(c=c.substring(0,c.length-1)),c+="}"},obj2Params:function(a){var b=[];for(var c in a)b.push(c+"="+a[c]);return b.join("&")},setString:function(a){var b=0,c=a.length;alert(c);for(var d="",e=0;e<a.length;e++)a.charCodeAt(e)>128?(b+=2,d+=a.charAt(e)):b++;return d},getOffsetTop:function(a,b){return a.offsetY?a.offsetY:a.pageY-$(b).offset().top},getOffsetLeft:function(a,b){return a.offsetX?a.offsetX:a.pageX-$(b).offset().left},jyAjax:function(a,b,c,d,e,f,g,h){jyAjax(a,b,c,d,e,f,g,h)},isValidDate:function(a,b,c){return this.isValidDateStr(a+"-"+b+"-"+c)},isValidDateStr:function(a){if(a){var b=a.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);if(null==b)return!1;if(parseInt(b[1])>9999||parseInt(b[1])<1753)return!1;var c=new Date(b[1],b[3]-1,b[4]);return c.getFullYear()==b[1]&&c.getMonth()+1==b[3]&&c.getDate()==b[4]}},isValidTimeStr:function(a){if(a){var b=a.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return null==b?!1:parseInt(b[1])>59||parseInt(b[1])<0?!1:parseInt(b[2])>59||parseInt(b[2])<0?!1:parseInt(b[3])>59||parseInt(b[3])<0?!1:!0}},isValidateTimeStr:function(a){if(a){var b=a.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})\s(\d{1,2}):(\d{1,2}):(\d{1,2})$/);if(null==b)return!1;if(parseInt(b[1])>9999||parseInt(b[1])<1753)return!1;var c=new Date(b[1],b[3]-1,b[4]);return c.getFullYear()!=b[1]||c.getMonth()+1!=b[3]||c.getDate()!=b[4]?!1:parseInt(b[5])>59||parseInt(b[5])<0?!1:parseInt(b[6])>59||parseInt(b[6])<0?!1:parseInt(b[7])>59||parseInt(b[7])<0?!1:!0}},saveLocal:function(a,b){if(window.localStorage){var c=window.localStorage;c.setItem(a,b)}},getLocal:function(a){if(window.localStorage){var b=window.localStorage;return b.getItem(a)}return""},clearLocal:function(){if(window.localStorage){var a=window.localStorage;a.clear()}},diffStr:function(a,b){var c=a.split(""),d=b.split(""),e=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];b[c]!=d&&(a[c]='<label style="color:#ff0000;background:#c0c0c0;font-size:18px;">'+d+"</label>")}};e(c,d),e(d,c);var f=[];return f.push(c.join("")),f.push(d.join("")),f},isFloat:function(a,b){if(229==a.keyCode||16==a.keyCode){b.blur();return!1}var c=b.val();return a.shiftKey||a.ctrlKey||a.altKey?!1:(a.keyCode>=48&&a.keyCode<=57||a.keyCode>=96&&a.keyCode<=105||110==a.keyCode||190==a.keyCode||8==a.keyCode||9==a.keyCode||13==a.keyCode)&&(110!=a.keyCode&&190!=a.keyCode||0!=c.length)?(110==a.keyCode||190==a.keyCode)&&c.indexOf(".")>-1?!1:void 0:!1},numToCny:function(a){var b,c,d,a=new String(Math.round(100*a)),e="",f="零壹贰叁肆伍陆柒捌玖",g="万仟佰拾亿仟佰拾万仟佰拾元角分",h=a.length,i=0;if(h>15)return"超出计算范围";if(0==a)return e="零元整";g=g.substr(g.length-h,h);for(var j=0;h>j;j++)d=parseInt(a.substr(j,1),10),j!=h-3&&j!=h-7&&j!=h-11&&j!=h-15?0==d?(b="",c="",i+=1):0!=d&&0!=i?(b="零"+f.substr(d,1),c=g.substr(j,1),i=0):(b=f.substr(d,1),c=g.substr(j,1),i=0):(0!=d&&0!=i?(b="零"+f.substr(d,1),c=g.substr(j,1),i=0):0!=d&&0==i?(b=f.substr(d,1),c=g.substr(j,1),i=0):0==d&&i>=3?(b="",c="",i+=1):(b="",c=g.substr(j,1),i+=1),(j==h-11||j==h-3)&&(c=g.substr(j,1))),e=e+b+c;return 0==d&&(e+="整"),e},getLoadHtml:function(a){var b="";return a&&(b=" id="+a),"<div "+b+'style="background-color:rgba(0,0,0,0.4);position:absolute;top:0px;left:0px;right:0px;bottom:0px;"><div style="position:absolute;left:50%;margin-left:-3rem;top:50%;margin-top:-5rem;background:rgba(0,0,0,0.7);border-radius:0.6rem;"><img src="/img/dh.gif" style="width:5rem;height:5rem;text-align:center;margin:0rem 1rem" /><span style="display:block;line-height:0.5rem;color:#bababa;text-align:center;padding-bottom:1rem;font-size:1.2rem;">努力加载中</span></div></div>'},loadingShow:function(a){var b=this,a=a||$(document.body),c=b.getLoadHtml(),d=$(c);a.append(d),$(function(){d.remove()})},loadBlock:function(a,b){for(var c=this,d=0;a>d;d++)!function(a){var d="#"+b+a;$(d).html(c.getLoadHtml(d))}(d)},eachForm:function(a,b){var c="",d=[];"object"==typeof a?a instanceof jQuery?c=a:a instanceof Array?d=a:c=$(a):c=$("#"+a);var e=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(b){var e=b(d);if(void 0!=e&&!e)return}}};d.length&&e(d),c&&c.length&&e(c[0].elements)},fillInForm:function(a,b){var c=this;a&&c.eachForm(b,function(b){var c=$(b),d=a[b.id]||a[b.name],e=c.attr("format"),f={date:function(a){return new Date(a).pattern("yyyy-MM-dd")}};e&&(d=f[e](d)),d&&$(b).val(d)})},formToJson:function(a){var b={};return this.eachForm(a,function(a){b[a.name]=$(a).val()}),b},setFormRead:function(a,b){var c=this,d=function(a){if(a){var c=$(a),d=c.parent(),e=d.find(".readOnlyDiv"),f="";if(c.attr("type")&&"hidden"==c.attr("type")||"none"==c.css("display"))return;e.length?f=$(e.get(0)):(f=$('<div class="readOnlyDiv"></div>'),f.appendTo(c.parent()));var g=c.val()||"";if("SELECT"==a.tagName?c.val()&&(g=$(a.options[c.get(0).selectedIndex]).text()):"INPUT"!=a.tagName||!c.attr("type")||"radio"!=c.attr("type")&&"checkbox"!=c.attr("type")||(g=c.attr("checked")?c.next().text():""),b&&b(c,d),d.find("input").length){var h="";f.get(0).innerHTML&&(h="~"),(g+"").length&&(f.get(0).innerHTML=f.get(0).innerHTML+h+g)}else f.html(g);f.show(),c.hide()}};if("string"==typeof a)c.eachForm(a,d);else if("object"==typeof a)if(a instanceof Array)for(var e=0;e<a.length;e++)d(document.getElementById(a[e]));else c.eachForm(a,d)},setDomFormsRead:function(){var a=document.forms;if(a)for(var b=0;b<a.length;b++){var c=a[b];setReadStatus=$(c).attr("setRead"),setReadStatus&&setFormRead(c)}},cancelFormRead:function(a){this.eachForm(a,function(a){var b=$(a),c=b.parent().find(".readOnlyDiv");c.length&&(c[0].hide(),b.show())})},getNextInput:function(a,b){var c=a.target||a.srcElement,b=b||13;if(a.keyCode===b){var d=jyTools.getParentNodeByTagName(c,"FORM"),e=function(){if(d){for(var a=0;a<d.elements.length&&d.elements[a]!=c;a++);for(;;){if(!(++a<d.elements.length))return d.elements[0];if("hidden"!=d.elements[a].type)return d.elements[a]}}}();e&&($(e).focus(),a.preventDefault())}},bindClick:function(a,b){this.bindClickByJqObj($("#"+a),b)},bindClickByJqObj:function(a,b){var c=this,d=c.getMobileClick();a.bind(d,function(a){b(a,$(this),function(a){c.newError(a)})})},getMobileClick:function(){var a="click";return navigator.userAgent.match(/.*Mobile.*/),a},bindMoveOrTouch:function(a,b,c){var d,e=0,f=0,g=0,h=0,i=1,j=!1,k=!0;void 0!=c&&c===!1&&(k=!1),a.bind("touchstart",function(b){var b=b.originalEvent,c=b.touches[0];f=c.pageY,e=c.pageX,j=!0,k&&(d=a.css("background"),a.css("background","#f5f5f5"))}),a.bind("touchmove",function(a){if(j){var a=a.originalEvent,b=a.touches[0];h=b.pageY,g=b.pageX}}),a.bind("touchend",function(c){if(j){0==g&&0==h&&b(c);var l=Math.abs(g-e),m=Math.abs(h-f),n=m>l?m:l;i>=n&&b(c,a),g=0,h=0,j=!1,k&&a.css("background",d)}})},regCheck:function(a,b){var c={date:/^([1-2]\d{3})(0?[1-9]|10|11|12)([1-2]?[0-9]|0[1-9]|30|31)$/gi,mobilePhone:/^[0-9]{11}$/,idCard:/^([1-6][0-7])(\d{4})(18|19|20)?(\d{2})([01]\d)([0123]\d)(\d{3})(\d|x|X)$/,linePhone:/^[1][3|5][0-9]{9}$/,postcode:/^[0-9]{6}$/,email:/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,number:/^[0-9|.]*$/,money:/^(([1-9]{1}\d*)|([0]{1}))(\.(\d){1,2})?$/,numberLetter:/[A-Za-z].*[0-9]|[0-9].*[A-Za-z]/,fixedLineTelephone:/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/,phone_area_code:/^0[0-9]{2,3}$/,single_telephone:/^[2-9][0-9]{6,7}$/,positiveInteger:/^[0-9]*$/,positiveRation:/^(([0-9]+[\.]?[0-9]+)|[1-9])$/,password:/^[0-9A-Za-z.@\-\_]{6,20}$/};return c[a]?c[a].test(b):!1},newError:function(a){function b(a){this.msg=a,this.htmlObj=null}b.prototype.show=function(){var a='<div class="error_box" style="z-index:1002;"><div class="errortips" ><span id="errortips">'+this.msg+"</span></div></div>";this.htmlObj=$(a),this.htmlObj.appendTo($(document.body)),this.htmlObj.fadeIn(600)},b.prototype.destroy=function(){var a=this;this.htmlObj.fadeOut(600),setTimeout(function(){a.htmlObj.remove()},600)};var c=new b(a);c.show(),setTimeout(function(){c.destroy(),c=null},3e3)},newMask:function(a){function b(a){this.msg=a||"",this.htmlObj=null}b.prototype={constructor:b,show:function(a){var b='<div style="background-color:rgba(0,0,0,0.4);position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:10000;"><div style="position:absolute;left:50%;margin-left:-3rem;top:50%;margin-top:-5rem;background:rgba(0,0,0,0.7);border-radius:0.6rem;"><img src="/img/dh.gif" style="width:5rem;height:5rem;text-align:center;margin:0rem 1rem" /><span style="display:block;line-height:0.5rem;color:#bababa;text-align:center;padding-bottom:1rem;">努力加载中</span></div></div>';this.htmlObj=null,this.htmlObj=$(b),this.htmlObj.appendTo($(document.body)),this.htmlObj.fadeIn(100)},destroy:function(){var a=this;this.htmlObj.fadeOut(100),setTimeout(function(){a.htmlObj.remove()},100)}};var c=new b(a);return c.show(),c},platAdpte:function(a){var b=sessionStorage.getItem("plat");if(b)"android"===b&&a.androidApp&&a.androidApp(),"ios"===b&&a.iosApp&&a.iosApp();else{var c=window.navigator.userAgent;c.match(/(iPhone|iPod|Android|ios|SymbianOS)/i)?"micromessenger"==c.toLowerCase().match(/MicroMessenger/i)?a.weixinFun&&a.weixinFun():a.mobileFun&&a.mobileFun():a.pcFun&&a.pcFun()}}},jyTools=tools;$(function(){$(document).ajaxStart(function(){}).ajaxSend(function(){}).ajaxSuccess(function(e,xhr,settings){var resStatus=xhr.getResponseHeader("sessionstatus");if(void 0!=resStatus&&"timeout"==resStatus){var responseContent=eval("("+xhr.responseText+")");return void(window.location.href=responseContent.forceLogoutUrl)}}).ajaxError(function(a){jyTools.newError(a.message)})}),function(a){a.fn.jyAjax=function(b,c,d,e,f,g,h){var i=a(this);i.attr("disabled",!0),h&&h(),jyAjax(b,c,d,e,f,g,i)}}(jQuery),document.onkeypress=banBackSpace,document.onkeydown=banBackSpace;var checkNotNull=function(a,b,c){jyTools.bindClick(c,function(c){var d={},e=!0;jyTools.eachForm(a,function(a){var b=$(a),c=b.val(),f=b.attr("id");if(d[f]=c,b.attr("notNull")&&!c.length){var g=b.attr("placeholder")+"不能为空";return jyTools.newError(g),e=!1}}),e&&($("#errorContainer").hide(),b&&b(d,function(a){jyTools.newError(a)}))})},scrollFun=function(a,b){document.addEventListener("touchmove",function(a){a.preventDefault()},!1),document.addEventListener("DOMContentLoaded",function(){return new iScroll(a,{checkDOMChanges:!0,hScrollbar:!1,vScrollbar:!1,onRefresh:function(){console.log("onRefresh")},onScrollMove:function(){console.log("onScrollMove")},onScrollEnd:function(){b&&b()}})},!1)};NumKey.prototype={constructor:NumKey,create:function(){var a=this,b=['<div id="keys" class="keys"><ul>'];b.push('<li class="canel" ext="cancel">取消</li><li class="inputDiv"><input type="text" readonly="true" value="'+a.inputObj.val()+'"></li><li class="ok" ext="ok">确认</li>');for(var c=1;10>c;c++)b.push("<li>"+c+"</li>");return b.push('<li>.</li><li>0</li><li ext="backspace">backspace</li>'),b.push("	</ul></div>"),this.jqObj=$(b.join("")),this.jqObj.hide(),this.container.append(this.jqObj),this.event(),this.height=this.jqObj.height(),this.jqObj.css("bottom","-"+this.height+"px"),this.jqObj.show(),this.jqObj.animate({bottom:"0px"}),this},event:function(){var a=this,b=this.jqObj.find("input"),c={ok:function(c){a.inputObj.val(b.val()),a.close()},cancel:function(b){a.close()},backspace:function(a){var a=b.val();a.length&&(a=a.substr(0,a.length-1),b.val(a))}};jyTools.bindClickByJqObj(this.jqObj,function(a){var d=a.target||a.srcElement,e=$(d);if("LI"==d.tagName.toUpperCase()){var f=b.val(),g=e.attr("ext");g?c[g]():b.val(f+$(d).text())}})},close:function(){var a=this;this.jqObj.animate({bottom:"-"+this.height+"px"},300,function(){a.jqObj.remove()})}},function(a){a.fn.newNumKey=function(b){var c="tname"+(new Date).getTime()+Math.round(100*Math.random()),d=new NumKey(b,c,a(this));return d.create()}}(jQuery);